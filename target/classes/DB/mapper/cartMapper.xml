<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.iu.mk.product.ProductDAO">

<!-- 
	<resultMap type="CartVO" id="selectCart">
		<id column="random_num" property="random_num"/>
		<result column="m_num" property="m_num"/>
		<result column="p_num" property="p_num"/>
		<result column="p_count" property="p_count"/>
		
		<collection property="" javaType="List" ofType="">
		
		</collection>
		
	</resultMap>
	 -->
	
	<select id="CartVO" parameterType="java.lang.Integer" resultType="CartVO">
		select * from cart where cart_num=#{cart_num};
	</select> 
	<resultMap type="ProductVO" id="selectResult">																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												
		<id column="p_num" property="p_num"/>
		<result column="p_name" property="p_name"/>
		<result column="price" property="price"/>
		<result column="contents" property="contents"/>
		<result column="kind" property="kind"/>
		
		<collection property="productFileVOs" javaType="List" ofType="ProductFileVO">
			<id column="fileNum" property="fileNum"/>
			<result column="p_num" property="p_num"/>
			<result column="oriName" property="oriName"/>
			<result column="fileName" property="fileName"/>
			<result column="kind" property="kind"/>
		</collection>
	</resultMap>



	<select id="productSelect" parameterType="Long" resultMap="selectResult">
		select P.*, F.*
		from product P left Join productFile F
		on (P.p_num = F.p_num)
		where P.p_num=#{p_num}
	</select>






</mapper>